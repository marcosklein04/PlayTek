{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="no-referrer">
    <link rel="stylesheet" href="{% static 'trivia/style.css' %}?v=20260212-01">
    <title>Trivia</title>
</head>
<body>
    <div id="watermark" class="watermark hidden"></div>

    <main class="runner-card">
        <header id="hero" class="hero">
            <img id="logo" class="logo hidden" alt="Logo del evento" />
            <h1 id="title">Trivia Runner</h1>
            <p id="subtitle"></p>
        </header>

        <div id="status"></div>
        <p id="timer" class="timer hidden"></p>

        <div id="questionBox" class="card question-card hidden">
            <div id="questionText"></div>
            <div id="choices"></div>
        </div>

        <div class="actions">
            <button id="btnNext">Siguiente</button>
        </div>
    </main>

    <script>
        window.RUNNER_CONFIG = {
            frontendBaseUrl: "{{ frontend_base_url|default:''|escapejs }}",
        };

        // solo inyectamos SESSION; l√≥gica en archivo JS
        const searchParams = new URLSearchParams(location.search);
        const hashValue = location.hash.startsWith("#") ? location.hash.slice(1) : location.hash;
        const hashParams = new URLSearchParams(hashValue);
        window.SESSION = {
        sessionId: searchParams.get("session_id"),
        userId: searchParams.get("user_id"),
        sessionToken: hashParams.get("session_token") || searchParams.get("session_token"),
        };
    </script>
    <script src="{% static 'trivia/trivia.js' %}?v=20260212-01"></script>
    
</body>
</html>
